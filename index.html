<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Event Registration | debowoseni</title>

  <link rel="icon" href="/assets/favicon.ico" sizes="any">
  <link rel="icon" type="image/png" href="/assets/favicon.png" media="(prefers-color-scheme: light)">
  <link rel="icon" type="image/png" href="/assets/favicon-dark.png" media="(prefers-color-scheme: dark)">
  <link rel="apple-touch-icon" href="/assets/apple-touch-icon.png">

  <style>
    :root{
      --bg:#f7b500; --bg2:#ffcf2e; --card:#5b4b00; --paper:#f5f1e6;
      --text:#fff; --muted:#efe8d3; --accent:#ffcc00; --shadow:0 18px 45px rgba(0,0,0,.22);
      --radius:22px;
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
      background:url("/assets/bg.png") center/cover no-repeat, linear-gradient(120deg,var(--bg),var(--bg2));
      min-height:100vh;
    }
    .wrap{ width:min(1200px,92vw); margin:18px auto 36px; }

    .topbar{
      display:flex; align-items:center; justify-content:space-between; gap:12px;
      padding:14px 18px; border-radius:18px;
      background:rgba(80,65,0,.78); color:#fff;
      box-shadow:var(--shadow); backdrop-filter:blur(8px);
    }
    .brand{ display:flex; align-items:center; gap:12px; }
    .brand img{ height:30px; width:auto; display:block; }
    .brand span{ font-weight:600; opacity:.9; font-size:18px; }

    .badge{
      padding:10px 14px; border-radius:999px;
      background:rgba(255,255,255,.12);
      border:1px solid rgba(255,255,255,.18);
      font-weight:800; font-size:13px; letter-spacing:.4px;
      text-transform:uppercase; white-space:nowrap;
    }

    .grid{
      margin-top:16px;
      display:grid;
      grid-template-columns:1.25fr .75fr;
      gap:18px; align-items:start;
    }

    .leftCard{
      border-radius:var(--radius);
      background:rgba(80,65,0,.90);
      color:var(--text);
      padding:22px;
      box-shadow:var(--shadow);
    }

    h1{ margin:0; font-size:clamp(30px,3.8vw,52px); line-height:1.05; letter-spacing:-.5px; }
    .accent{ color:var(--accent); }

    .desc{ margin-top:12px; color:var(--muted); line-height:1.6; font-size:16px; max-width:62ch; }
    .divider{ margin:14px 0; height:1px; background:rgba(255,255,255,.18); }
    .instruction{ color:#fff; opacity:.92; font-weight:600; font-size:15px; }

    .paper{
      margin-top:16px;
      background:var(--paper);
      border-radius:18px;
      padding:16px;
      color:#111;
      box-shadow:0 10px 25px rgba(0,0,0,.12) inset;
    }

    label{ display:block; font-weight:800; margin:10px 0 7px; font-size:16px; }
    .req{ color:#b00020; }

    input, select, textarea, button{ font-family:inherit !important; font-size:16px; }
    input,select,textarea{
      width:100%;
      padding:14px;
      border-radius:14px;
      border:1px solid rgba(0,0,0,.14);
      background:rgba(255,255,255,.76);
      outline:none;
    }
    textarea{ min-height:120px; resize:vertical; }
    ::placeholder{ color:rgba(0,0,0,.55); }

    .row2{ display:grid; grid-template-columns:1fr 1fr; gap:12px; }

    .gdpr{
      display:flex; gap:10px; align-items:flex-start;
      margin:12px 0 4px;
      font-size:14px; line-height:1.45;
      color:rgba(0,0,0,.80);
      font-weight:500;
    }
    .gdpr input{ width:18px; height:18px; margin-top:3px; accent-color:#111; }

    button{
      width:100%;
      margin-top:12px;
      padding:14px 16px;
      border:0;
      border-radius:14px;
      background:#111;
      color:var(--accent);
      font-size:18px;
      font-weight:900;
      cursor:pointer;
      box-shadow:0 12px 28px rgba(0,0,0,.22);
    }
    button[disabled]{ opacity:.65; cursor:not-allowed; }

    .alert{
      margin-top:12px;
      padding:12px 14px;
      border-radius:14px;
      font-weight:800;
      font-size:14px;
      line-height:1.35;
      display:none;
    }
    .alert.show{ display:block; }
    .alert.ok{ background:rgba(11,107,27,.12); border:1px solid rgba(11,107,27,.35); color:#0b6b1b; }
    .alert.err{ background:rgba(176,0,32,.10); border:1px solid rgba(176,0,32,.28); color:#b00020; }

    .rightCol{ display:flex; flex-direction:column; gap:16px; }

    .photoCard{
      border-radius:var(--radius);
      background:rgba(80,65,0,.90);
      padding:14px;
      box-shadow:var(--shadow);
    }
    .photoFrame{
      border-radius:20px;
      overflow:hidden;
      border:4px solid rgba(255,204,0,.9);
      background:#111;
    }
    .photoFrame.portrait{
      aspect-ratio:3/4;
      display:flex; align-items:center; justify-content:center;
    }
    .photoFrame.portrait img{
      width:100%;
      height:100%;
      object-fit:contain;
      display:block;
    }

    .details{
      background:rgba(255,255,255,.65);
      border-radius:18px;
      padding:14px;
      box-shadow:0 12px 25px rgba(0,0,0,.12);
    }
    .details h3{ margin:0 0 10px; font-size:18px; letter-spacing:-.2px; }
    .kv{ display:grid; grid-template-columns:90px 1fr; gap:10px 14px; font-size:16px; }
    .k{ font-weight:800; }
    .v{ font-weight:500; }

    footer{
      margin-top:18px;
      background:#fff;
      border-radius:16px;
      padding:12px;
      text-align:center;
      font-weight:600;
      box-shadow:0 10px 22px rgba(0,0,0,.12);
    }

    @media (max-width:900px){
      .grid{ grid-template-columns:1fr; }
      .row2{ grid-template-columns:1fr; }
      .brand span{ font-size:16px; }
    }
  </style>
</head>

<body>
  <div class="wrap">
    <div class="topbar">
      <div class="brand">
        <img src="/assets/logo.png" alt="Debowoseni logo">
        <span>debowoseni</span>
      </div>
      <div class="badge">Event Registration Form</div>
    </div>

    <div class="grid">
      <div class="leftCard">
        <h1>Life Transformation Enquiry™ <span class="accent">Masterclass</span></h1>

        <p class="desc">
          In this masterclass, you’ll step back from the noise and map where you are, what’s shaping you,
          and what needs to shift. Expect guided reflection, practical frameworks, and clear next steps for
          your purpose, priorities, and direction.
        </p>

        <div class="divider"></div>
        <div class="instruction">Complete this short form to reserve your seat for the upcoming masterclass.</div>

        <div class="paper">
          <form id="regForm" novalidate>
            <label>Full Name <span class="req">*</span></label>
            <input id="fullName" placeholder="Enter your full name" required>

            <label>Email <span class="req">*</span></label>
            <input id="email" type="email" placeholder="Enter your email address" required>

            <div class="row2">
              <div>
                <label>Phone Number</label>
                <input id="phone" placeholder="e.g., +44 7xxx xxx xxx">
              </div>
              <div>
                <label>Location</label>
                <select id="location">
                  <option value="">Select one</option>
                  <option>Leicester</option>
                  <option>London</option>
                  <option>Birmingham</option>
                  <option>Manchester</option>
                  <option>Other</option>
                </select>
              </div>
            </div>

            <label>What are your expectations?</label>
            <textarea id="expectations" placeholder="Write your message here..."></textarea>

            <div class="gdpr">
              <input id="gdpr" type="checkbox">
              <div>
                I agree that my information will be used to process my registration and to receive event communications
                related to the Life Transformation Enquiry™ Masterclass.
              </div>
            </div>

            <button id="submitBtn" type="submit">Submit Registration</button>
            <div id="status" class="alert" aria-live="polite" role="status"></div>
          </form>
        </div>
      </div>

      <div class="rightCol">
        <div class="photoCard">
          <div class="photoFrame portrait">
            <img src="/assets/convener-new.jpg" alt="Convener portrait">
          </div>
        </div>

        <div class="details">
          <h3>Event Details</h3>
          <div class="kv">
            <div class="k">Host</div><div class="v">Debo’ Owoseni</div>
            <div class="k">Date</div><div class="v">Saturday 7 March 2026</div>
            <div class="k">Time</div><div class="v">12:00 PM</div>
            <div class="k">Venue</div><div class="v">Phoenix Cinema, Leicester LE1 1TG</div>
          </div>
        </div>
      </div>
    </div>

    <footer>
      Life Transformation Enquiry™ Masterclass<br>
      © 2026 Debo’ Owoseni | All rights reserved
    </footer>
  </div>

  <script>
    const WEB_APP_URL = "https://script.google.com/macros/s/AKfycbz52TmRT1DgSHqubGvw5FFOfqiMpgnadqV5aE_GNieTMCb8zhluu3y2CKJtg_muAN3r/exec";

    const form = document.getElementById("regForm");
    const statusEl = document.getElementById("status");
    const btn = document.getElementById("submitBtn");

    function setStatus(type, msg){
      statusEl.className = "alert" + (type ? " " + type : "");
      statusEl.textContent = msg || "";
      if (msg){
        statusEl.classList.add("show");
        statusEl.scrollIntoView({ behavior: "smooth", block: "nearest" });
      } else {
        statusEl.classList.remove("show");
      }
    }

    async function readJsonSafely(res){
      const text = await res.text();
      try { return { json: JSON.parse(text), text }; }
      catch { return { json: null, text }; }
    }

    form.addEventListener("submit", async (e) => {
      e.preventDefault();
      setStatus("", "");

      const payload = {
        fullName: document.getElementById("fullName").value.trim(),
        email: document.getElementById("email").value.trim(),
        phone: document.getElementById("phone").value.trim(),
        location: document.getElementById("location").value.trim(),
        expectations: document.getElementById("expectations").value.trim(),
        gdpr: document.getElementById("gdpr").checked
      };

      if (!payload.fullName || !payload.email){
        setStatus("err", "Please enter your full name and email.");
        return;
      }
      if (!payload.gdpr){
        setStatus("err", "Please tick the consent checkbox to continue.");
        return;
      }

      btn.disabled = true;
      btn.textContent = "Submitting...";

      try {
        // ✅ No Content-Type headers (avoids preflight issues with Apps Script)
        const res = await fetch(WEB_APP_URL, {
          method: "POST",
          body: JSON.stringify(payload)
        });

        const { json, text } = await readJsonSafely(res);

        if (json && json.ok){
          setStatus("ok", json.message);
          form.reset();
        } else {
          const msg = (json && json.message) ? json.message : ("Unexpected server response: " + text.slice(0,160));
          setStatus("err", msg);
          console.log("Server raw response:", text);
        }
      } catch (err) {
        setStatus("err", "Network error. Please try again.");
        console.error(err);
      } finally {
        btn.disabled = false;
        btn.textContent = "Submit Registration";
      }
    });
  </script>
</body>
</html>



